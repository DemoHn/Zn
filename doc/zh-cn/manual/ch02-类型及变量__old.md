# 类型及变量

本章主要介绍 Zn 语言的类型系统及变量的赋值及传递。Zn 是一门动态弱类型语言，亦即一个变量的类型可以在运行的过程当中发生变化。Zn 的类型分为 _数值_，_文本_，_二象_，_列表_，_字典_ 及 _对象_ 六种，每个变量的值都包含在这些类型当中。这些类型在一定条件下可以相互转化，从而满足实际需求。每种类型的方法及属性说明请参阅后面的说明。

## 类型系统

每一个变量都有其自身的 _类型 (type)_。类型刻画了这个变量的属性以及一些特有的特征。比如 _数值_ 类型的变量可以加减乘除，而 _文本_ 类型却做不到；又或者 _数组_ 类型可以按照顺序存放多个值，而 _数值_ 类型却做不到。

在 Zn 语言中，每一个变量的值 _(value)_ 都有其对应的类型。和 C/Java/Go 等强类型语言不同， Zn 不会将变量的类型特地标识出来，而是以某种形式隐含在变量的表达中。

目前有六种基本类型：_数值 (decimal)_，_文本 (string)_，_二象 (bool)_，_数组 (array)_，_列表 (hashmap)_ 及 _对象 (object)_。同时还有一个特别的 _空 (null)_ 类型用以表示空值，亦即「空」。

### 基本类型

**数值型**

任何自然数以及有限位数的小数都属于 **数值型**。Zn 不会区分整数及小数，亦不会限制数值的位数<sup>1</sup>。数值型的变量可以用立即数的方式定义，如 `令变量A为1024` 即定义了一个数值为 `1024` 的名为「变量A」的数值型变量。

和其他语言的数值类型一样，Zn 的数值型变量亦可以参与加减乘除等数值运算，如 `结果为（X+Y：25，48）` 即是将 `25` 和 `48` 两者相加，最终得到数值 `73`，并赋值到名为「结果」的变量中。

数值型的运算都是高精度小数运算，亦即其值不会因为浮点数而产生误差。原因很简单：数值值在存储时即是按照高精度小数的标准来的。例如数值 `1024.789` 实际上是由两个字段存储的：其一为底数 `1024789`（整数），其二为幂 `-3`。在进行加减运算时，实际上都是由整数项和幂分别进行运算，从而保证了结果的精度。唯一例外的是除法：因为除法的结果不能保证是有限位数的小数，所以这里会按照小数点后8位来保留位数，这里会有精度的损失。

**文本型**

### 类型转换

TODO