# 第4章：程序的语句分段

如前所述，一个 zinc 程序由一条条语句叠加组成。一条语句对应一个完整的指令，他们一般占据了程序的一行，有时甚至是多行。当运行程序时，zinc 编译器会从上到下逐行执行每条语句，并最终输出对应的结果。

在编写程序时，我们需要注意语句的顺序是有要求的，比如 `导入` 语句必须要在程序的最开头，`拦截` 语句必须在程序的末尾；为了方便接下来的描述，我们不妨将程序划分成四个功能段：**导入段**、**输入段**、**逻辑段**和**拦截段**。

每个功能段都有其对应的语句类型，根据不同要求可以填入一条或多条，甚至省略也行。每个程序分段的作用及对应的语句要求如下：

##### 1. 导入段
导入段由 `导入` 语句组成，其作用为描述在这段程序中要预备导入的其他模块。导入语句由 `导入` 关键词开头，后面跟上需要导入的模块名称以及对应的方法/类型，如 `导入《JSON》之解析JSON`  等。

##### 2. 输入段
输入段由 `输入` 语句组成，它定义了一系列需要由外部环境提供的变量。输入段只允许**一条** `输入` 语句！

##### 3. 逻辑段
逻辑段即是实际用于执行的代码逻辑。里面可以写多条语句，除了 `输入`、`导入`、`拦截` 语句之外，其他语句都可以放到逻辑段中。事实上，程序在运行完逻辑段的语句之后，要么输出最终结果，要么抛出异常。若是前者，则输出结果后结束执行；若是后者，程序会转到 `拦截段`，尝试拦截异常并执行对应的逻辑，拦截无果后再显示异常并结束执行。

##### 4. 拦截段
拦截段用于「拦截」由逻辑段所产生的异常。作为程序的最后一个语句段，拦截段只允许 `拦截` 语句；拦截段支持多条 `拦截` 语句，以匹配不同类型的异常。

以下是一个拥有完整四个语句段的程序实例：

```zinc
// ------  1. 导入段  ------
导入《JSON》
导入“模块二”
// -------------------------

// ------  2. 输入段  ------
输入起订量、数量、单价
// -------------------------

// ------  3. 逻辑段  ------
如果数量 < 起订量：
    抛出异常：“订单数量 {}件；不够起订量 {}件” % 【数量，起订量】
否则：
	输出数量 * 单价
// -------------------------

// ------  4. 拦截段  ------
拦截异常：
	（显示：其内容）
// -------------------------
```

> ⚠️ 惟须注意，一个 zinc 程序可以省去某些功能段，但是顺序不能颠倒！（比如省略`导入` 语句可以；但先写 `输入`语句 ，再写 `导入`语句是不允许的）

### 数据的输入与输出
我们使用编程语言的目的，主要是为了让电脑帮我们解决问题 —— 进一步来说，就是向电脑输入一堆参数，然后执行程序，最终让电脑告诉我们结果；因此，处理数据成为了编写程序的核心部分，贯穿于整个程序中。

在执行一段 zinc 程序之前，我们一般会在外部环境中准备好一些变量值。而后，我们即可在 *输入段* 定义一条 `输入` 语句用于将对应名称的变量引入到程序中，相当于在程序内部定义了这些变量。`输入` 语句的语法如下： `输入‹变量甲›、‹变量乙›、‹变量丙›...` ，其中 `变量名` 须为一个有效的标识符，变量名之间使用 `、` （顿号）分隔。

比如我们在外部环境已经准备好了以下变量的值：
| 名称   | 值         |
|------|-----------|
| 货件名称 | “置物架”     |
| 采购数量 | 500       |
| 采购单价 | 24.8      |
| 供应商  | “甲乙丙丁加工厂” |

语句  `输入采购数量、采购单价`  即是定义 `采购数量` 和 `采购单价` 这两个变量，并分别赋予数值 `500` 和`24.8`。 


 
举个例子，以下是用于计算一批货品的采购总价之程序：
```zinc
输入采购数量、采购单价  // 此处属于「输入」段
输出采购数量 * 采购单价 // 此处属于「逻辑」段
```

在程序的第 1 行， 我们使用 `输入` 语句将 `采购数量` 和 `采购单价` 这两个变量从外部环境引入进来  —— 毕竟要计算总价，数量和单价总得要知道吧？而后在第 2 行，将 `采购数量` 与 `采购单价` 相乘，并将最终结果给到外部环境中。



### 异常的抛出与拦截
